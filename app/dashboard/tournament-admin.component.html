<!-- TODO: Separate each view into component? -->
<div *ngIf="tournamentData">

    <!-- Nav -->
    <div class="row">
        <button column="3" [disabled]="activeView == 'info'" class="button--success" (click)="activeView='info'">
            Info
        </button>
        <button column="3" [disabled]="activeView == 'players'" *ngIf="!tournamentData.rounds" class="button--success"
        (click)="activeView='players'">
            Players
        </button>
        <button column="3" [disabled]="activeView == 'rounds'" class="button--success" (click)="activeView='rounds'">
            Match setup
        </button>
        <button column="3" [disabled]="activeView == 'score'" *ngIf="tournamentData.rounds" class="button--success"
        (click)="activeView='score'">
            Score
        </button>
        <button column="3" class="button--success" [routerLink]="[ '/Dashboard' ]">
            Dashboard
        </button>
    </div>
    
    <button class="button--full button--success"></button>
    
    <!-- Tournament info -->
    <tournamentInfo *ngIf="activeView =='info'" [tournament]="tournamentData" (dataChange)="submit($event)"></tournamentInfo>

    <!-- Player list -->
    <tournamentPlayers *ngIf="activeView == 'players'" [players]="tournamentData.players" [canAdd]="!tournamentData.rounds" (playerAdd)="addPlayer($event)"
    (playerDelete)="deletePlayer($event)"></tournamentPlayers>

    <!-- TODO: Make setup rounds and rounds / matches a component -->
    <tournamentRounds *ngIf="activeView == 'rounds'" [rounds]="tournamentData.rounds" [players]="tournamentData.players" (roundsAction)="setupRounds($event)"
    (dataChange)="submit($event)"></tournamentRounds>

    <!-- Score -->
    <tournamentScore *ngIf="activeView == 'score'" [players]="tournamentData.players" [playedMatches]="tournamentData.playedMatches" [rounds]="tournamentData.rounds"></tournamentScore>

</div>

<div *ngIf="!tournamentData" class="center--all">
    <div class="spinner"></div>
</div>