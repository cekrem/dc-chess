<!-- TODO: Separate each view into component? -->
<div *ngIf="tournamentData">
    
    <!-- Nav -->
    <ul class="breadcrumbs">
        <li><a class="text--success" (click)="activeView='info'">Info</a></li>
        <li *ngIf="!tournamentData.rounds"><a class="text--success" (click)="activeView='players'">Players</a></li>
        <li>
            <a class="text--success" (click)="activeView='rounds'">
                <span [hidden]="tournamentData.rounds">Match setup</span>
                <span [hidden]="!tournamentData.rounds">Rounds & matches</span>
            </a>
        </li>
        <li *ngIf="tournamentData.rounds"><a class="text--success" (click)="activeView='score'">Score</a></li>
        <a class="float--right text--success" [routerLink]="[ '/Dashboard' ]">Dashboard</a>
    </ul>

    <!-- Tournament info -->
    <tournamentInfo *ngIf="activeView =='info'" 
    [tournament]="tournamentData" [id]="tournamentId" 
    (dataChange)="submit($event)"></tournamentInfo>

    <!-- Player list -->
    <tournamentPlayers *ngIf="activeView == 'players'"
    [players]="tournamentData.players" [canAdd]="!tournamentData.rounds" 
    (playerAdd)="addPlayer($event)" (playerDelete)="deletePlayer($event)"></tournamentPlayers>

    <!-- TODO: Make setup rounds and rounds / matches a component -->
    <tournamentRounds *ngIf="activeView == 'rounds'"
    [rounds]="tournamentData.rounds" [players]="tournamentData.players"
    (roundsAction)="setupRounds($event)" (dataChange)="submit($event)"></tournamentRounds>

    <!-- Score -->
    <tournamentScore *ngIf="activeView == 'score'" [players]="tournamentData.players" [playedMatches]="tournamentData.playedMatches"></tournamentScore>

</div>

<div *ngIf="!tournamentData" class="center--all">
    <div class="spinner"></div>
</div>